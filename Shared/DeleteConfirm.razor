@using BetterBudgetWeb.Data
@using BetterBudgetWeb.Repo

<style>
    option {
        color: black;
    }

    select {
        color: black;
    }

    input {
        color: black;
    }

    button {
        color: black;
    }
</style>

@if (!Mobile)
{
    <div class="modal show" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" style="background-color:rgba(0,0,0,.8);">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:30vw;margin:25vh 0vw 0 0;background-image:url('https://www.publicdomainpictures.net/pictures/410000/velka/pergament-papier-hintergrund-braun.jpg');">
                <div class="modal-header">
                    <h5 class="modal-title" style="font-size:large;font-family:Papyrus;color:black;">
                        <strong>Are you sure?</strong>
                    </h5>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close" @onclick="@ModalCancel">
                    </button>
                </div>
                <div class="modal-body" style="width:fit-content;color:black;">
                    <div>
                        @if (Balan != null)
                        {
                            <span>Do you want to delete the <strong> @Balan.Name Balance?</strong></span>
                        }
                        else
                        {
                            <span>Do you want to delete this <strong> @Transact.Name </strong> transaction?</span>
                        }
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" style="position:absolute;left:1vw;" data-dismiss="modal" @onclick="@ModalCancel">Close</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal" @onclick="@ModalDecline">Nevermind</button>
                    <button type="button" class="btn btn-success" data-dismiss="modal" @onclick="@ModalAccept">Delete</button>
                </div>
            </div>
        </div>
    </div>
}
else
{
    <div class="modal show" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" style="background-color:rgba(0,0,0,.8);">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:fit-content;margin:0 auto;background-image:url('https://www.publicdomainpictures.net/pictures/410000/velka/pergament-papier-hintergrund-braun.jpg');">
                <div class="modal-header">
                    <h5 class="modal-title" style="font-size:large;font-family:Papyrus;color:black;">
                        <strong>Are you sure?</strong>
                    </h5>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close" @onclick="@ModalCancel">
                    </button>
                </div>
                <div class="modal-body" style="width:fit-content;color:black;">
                    <div>
                        @if (Balan != null)
                        {
                            <span>Do you want to delete the <strong> @Balan.Name Balance?</strong></span>
                        }
                        else
                        {
                            <span>Do you want to delete this <strong> @Transact.Name </strong> transaction?</span>
                        }
                    </div>
                </div>
                <div class="modal-footer" style="display:flex;justify-content:space-around">
                    <button type="button" class="btn btn-danger" style="float:left" data-dismiss="modal" @onclick="@ModalCancel">Nevermind</button>
                    <button type="button" class="btn btn-success" data-dismiss="modal" @onclick="@ModalAccept">Delete</button>
                </div>
            </div>
        </div>
    </div>
}

@code {
    [Parameter]
    public bool Mobile { get; set; }

    [Parameter]
    public string Title { get; set; }

    [Parameter]
    public Transaction Transact { get; set; }

    [Parameter]
    public Balance Balan { get; set; }

    [Parameter]
    public EventCallback<bool> OnClose { get; set; }

    private Task ModalCancel()
    {
        return OnClose.InvokeAsync(false);
    }

    private async Task ModalDecline()
    {
        await OnClose.InvokeAsync(false);
    }

    private Task ModalAccept()
    {
        return OnClose.InvokeAsync(true);
    }
}